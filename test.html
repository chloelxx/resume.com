<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
</head>
<body>
<p>test</p>
<!--<div class="box" style="display: flex;align-items: center;border:1px solid blue;width:500px;height:300px;">
    <div style="border:1px solid red">asdfasdf</div>
</div>-->
<input type="text" id="comt">
<button onclick="postComment()">bb</button>
<script src="dist/jquery3.js"></script>
<script>
    function postComment(){
        var str= $("#comt").val();
        str=JSON.stringify({content:str});
        console.log(str);
        var url="postComment"
        $.ajax({
            url: "http://127.0.0.1:86/postCommet",
            method: "POST",
            data:str,
            dataType: "json",
            beforeSend: function(xhr) {
               xhr.setRequestHeader("Content-Type","application/json;charset=utf-8");
//                xhr.setRequestHeader("If-Modified-Since", "0");
//                xhr.setRequestHeader('X-Custom-Header', 'value');

            },
            error: function(data) {
                console.log("网络出错",data);
            },
            success: function(data) {
                console.log("success post",data)
            }
        })
        $.ajax({
            url: "http://127.0.0.1:86/commentData?value="+new Date(),
            method: "GET",
            beforeSend: function(xhr) {
              //  xhr.setRequestHeader("If-Modified-Since", "0");
            },
            error: function(data) {
                console.log("get cors",data);
            },
            success: function(data) {
                console.log("success get",data)
            }
        })
       /* $.getJSON("http://127.0.0.1:86/commentData", function(data) {
            console.log(11111);
            console.log(data);
            var html = '<ul>';
            for(var i = 0; i < data.length; i++)
            {
                html += '<li>' + data[i].name + '</li>';
            }
            html += '</ul>';

            $('div').html(html);
        });*/
       /* $.ajax({
            url: "http://127.0.0.1:86/commentData",
            method: "GET",
            contentType: "application/json",
            beforeSend: function(xhr) {
                xhr.setRequestHeader("If-Modified-Since", "0");
            },
            error: function() {
                alert("网络出错,请稍后重试");
            },
            success: function(data) {
                alert("success get")
                $("#comt").val(data)
            }
        })*/
    }
</script>
</body>
</html>